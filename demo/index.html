<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>oidc-login demo</title>

    <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../bower_components/iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../bower_components/iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../bower_components/polymer/polymer-element.html">
	<link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html">
	<link rel="import" href="../bower_components/paper-button/paper-button.html">
	<link rel="import" href="../bower_components/paper-card/paper-card.html">
	<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
    
    <script src="../bower_components/openid-implicit-client/openidconnect.js"></script>
    
    <link rel="import" href="../oidc-login.html">

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      paper-card {
      	width: 20em;
      	padding: 1em;
      	display: block;
      	margin: .7em;
      }
      paper-card div {
      	margin: .7em;
      }
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic oidc-login demo</h3>
      <demo-snippet>
        <template>
          <oidc-login id="oidc" popup>
          
          	<oidc-login-provider name="google" discovery="https://accounts.google.com"
				client-id="728894164789-n2hvmpgdogl9cqmqp2vcdeicte08djem.apps.googleusercontent.com"></oidc-login-provider>
        
	        <paper-card>
	        	Hello World!

				<div>
	         	<paper-button raised onclick="logout()">Logout</paper-button>
				</div>
        	</paper-card>
          </oidc-login>
          
          <paper-toast id="toast" text="Logged in!"></paper-toast>
          
        </template>
      </demo-snippet>
    </div>
    <script>
    var oidc = document.getElementById('oidc');
    function sayHello() {
    	document.getElementById('toast').open();
    }
    function logout() {
    	oidc.logout();
    }
    oidc.addEventListener('oidc-login-success', sayHello);
    
    </script>
  </body>
</html>
